---
/**
 * * This page generates the individual blog posts based on the blog collection
 **/

// Utils
import { getCollection, render } from "astro:content";

// Components
import BlogPostLayout from "@layouts/BlogPostLayout.astro";

// Generates the individual blog pages
export async function getStaticPaths() {
	const posts = await getCollection("blog");
	return posts.map((entry) => ({
		params: { post: entry.id },
		props: { post: entry },
	}));
}

const { post } = Astro.props;
const { Content, headings } = await render(post);
---

<BlogPostLayout post={post} headings={headings}>
	<Content />
</BlogPostLayout>
